export const SUPPORTED_LANGUAGES = [
  { code: "en", label: "EN" },
  { code: "ro", label: "RO" },
];

const MESSAGES = {
  en: {
    "app.subtitle": "Employee scheduling workspace for shifts, assignments, and preferences.",
    "app.solve": "Solve",
    "app.solving": "Solving...",
    "app.employees": "Employees",
    "app.defaultTemplate": "Default Template",
    "app.constraintsConfig": "Constraints Configure",
    "app.settings": "Settings",
    "app.noEmployeeTitle": "No employee selected",
    "app.noEmployeeHint": "Open Employees from the top toolbar and select one.",
    "app.persistence.loading": "Workspace persistence: loading...",
    "app.persistence.error": "Workspace persistence error: {error}",
    "app.persistence.status": "Workspace persistence: {message}",
    "app.persistence.loadedLocal": "Loaded saved workspace from this browser.",
    "app.persistence.emptyLocal": "No saved browser workspace yet. Changes will be auto-saved locally.",
    "app.persistence.unavailableLocal": "Browser storage is unavailable.",
    "app.persistence.savedLocal": "Saved locally at {time}",
    "app.employeeDialogTitle": "Employees",
    "app.templateDialogTitle": "Default Template (Mon-Sun)",
    "app.constraintsDialogTitle": "Constraints Configure",
    "app.settingsDialogTitle": "Settings",
    "common.close": "Close",
    "common.copy": "Copy",
    "common.paste": "Paste",
    "common.enabled": "Enabled",
    "common.custom": "Custom",
    "common.edit": "Edit",
    "common.hideEdit": "Hide Edit",
    "common.off": "Off",
    "common.shifts": "{count} shifts",
    "common.loading": "Loading...",
    "common.noData": "No data yet.",
    "header.language": "Language",
    "header.themeDark": "Dark",
    "header.themeLight": "Light",
    "header.darkModeLabel": "Theme",
    "settings.firstDayOfWeek": "First day of week",
    "settings.firstDay.mon": "Monday",
    "settings.firstDay.sun": "Sunday",
    "employee.newTitle": "New Employee",
    "employee.name": "Name",
    "employee.role": "Role",
    "employee.add": "Add Employee",
    "employee.listTitle": "Employees",
    "employee.namePlaceholder": "Employee name",
    "employee.rolePlaceholder": "Optional role",
    "employee.remove": "Remove",
    "template.title": "Default Template (Mon-Sun)",
    "template.clipboard": "Clipboard: {label}",
    "week.title": "Week Calendar",
    "week.subtitle": "Click a shift block to manage one or more employee constraints.",
    "week.hideInspector": "Hide Inspector",
    "week.showInspector": "Show Inspector",
    "week.customEditorTitle": "Custom day shifts: {day} {date}",
    "week.overrideAddError": "No room left to create another shift for {day}.",
    "week.defaultAddError": "No room left to create another default shift for {day}.",
    "week.inspectorTitle": "Shift Inspector",
    "week.selectShiftHint": "Select a shift block to edit employee constraints.",
    "week.shiftLabel": "Shift: {name}",
    "week.openInspector": "Open shift inspector",
    "week.noConstraints": "No constraints yet.",
    "week.selectEmployee": "Select employee",
    "week.addConstraint": "+ Add Constraint",
    "week.removeConstraint": "Remove",
    "week.carryOver": "Carry-over: {label}",
    "week.copyHint": "Clipboard: {label}",
    "shift.noShifts": "No shifts.",
    "shift.nameLabel": "Shift Name",
    "shift.from": "to",
    "shift.overnight": "overnight",
    "shift.add": "+ Add Shift",
    "constraints.description":
      "Configure solver feature toggles and preference weights used when building solve requests.",
    "constraints.maxWorktimeTitle": "Max Worktime In A Row",
    "constraints.maxWorktimeDesc":
      "Hard rule. Limits continuous back-to-back assignment time for each employee. Applies to shift chains (not a single shift): with 8h max, two 4h shifts in a row are allowed, two 8h shifts are not.",
    "constraints.maxWorktimeInput": "Maximum continuous work (hours)",
    "constraints.restGapHardTitle": "Minimum Rest Gap After Configured Max Worktime In A Row (Hard)",
    "constraints.restGapHardDesc":
      "Hard rule. Enforces minimum rest after reaching the max-worktime-in-a-row chain.",
    "constraints.restGapHardHours": "Minimum hard rest (hours)",
    "constraints.restGapSoftTitle": "Minimum Rest Gap After Configured Max Worktime In A Row (Soft)",
    "constraints.restGapSoftDesc":
      "Soft rule. Penalizes assignments where rest after a shift chain is below the configured hours once the max worktime-in-a-row chain is reached.",
    "constraints.restGapSoftHours": "Minimum preferred rest (hours)",
    "constraints.restGapSoftWeight": "Penalty weight",
    "constraints.balanceTitle": "Balance Worked Hours",
    "constraints.balanceDesc":
      "Soft rule. Penalizes imbalance above allowed span derived from avg shift duration.",
    "constraints.balanceWeight": "Penalty weight",
    "constraints.balanceMultiplier": "Allowed span multiplier",
    "constraints.prefTitle": "Preference Mapping Weights",
    "constraints.prefDesc":
      "Weights for preferences assigned in Shift Inspector and sent as soft constraints.",
    "constraints.prefPreferred": "Preferred weight",
    "constraints.prefUnpreferred": "Unpreferred weight",
    "solve.diagnosticsTitle": "Solve Diagnostics",
    "solve.infeasibleTitle": "No feasible schedule found",
    "solve.infeasibleReason":
      "Current hard constraints and required shift coverage cannot be satisfied together.",
    "solve.likelyCauses": "Likely infeasibility causes",
    "solve.toggles": "Enabled feature toggles: {toggles}",
    "solve.noWarnings": "No additional solver warnings were returned.",
    "solve.reason.infeasible_no_feasible_assignment":
      "No feasible assignment satisfies current hard constraints and coverage.",
    "solve.infeasibility.hardConflictRequiredAndForbidden":
      "{shift}: same employee(s) are both required and forbidden ({employeeNames}).",
    "solve.infeasibility.hardRequiredExceedsCoverage":
      "{shift}: {hardRequiredCount} hard-required employee(s) exceed required coverage {requiredCoverage}.",
    "solve.infeasibility.coverageExceedsAvailableAfterForbids":
      "{shift}: required coverage {requiredCoverage} exceeds available employees {availableEmployees} after forbids.",
    "solve.infeasibility.maxWorktimeWindowCapacityConflict":
      "Max-worktime window [{windowPreview}] needs {requiredAssignments} assignments, but rule allows at most {allowedAssignments}.",
    "solve.infeasibility.maxWorktimeWindowEmployeeOverrequired":
      "{employeeName} is hard-required on {hardRequiredCount} shifts inside window [{windowPreview}], exceeding allowed {allowedAssignments}.",
    "solve.infeasibility.hardMinRestConflictOnRequiredChain":
      "{employeeName} is hard-required on {leftShift} and {rightShift} with only {restHours}h rest (< {minRestHours}h hard minimum).",
    "solve.infeasibility.quickAnalysisInconclusive":
      "No direct contradiction was isolated by quick analysis; infeasibility is likely caused by the combined effect of hard constraints and required coverage.",
    "solve.infeasibility.unknown": "Infeasibility reason: {code}",
    "solve.toggle.max_worktime_in_row": "Max Worktime In A Row",
    "solve.toggle.min_rest_after_shift_hard":
      "Minimum Rest Gap After Configured Max Worktime In A Row (Hard)",
    "solve.toggle.min_rest_after_shift_soft":
      "Minimum Rest Gap After Configured Max Worktime In A Row (Soft)",
    "solve.toggle.balance_worked_hours": "Balance Worked Hours",
    "solve.warning.noMatchingHard":
      "No shifts matched hard constraint ({type}) for employee_id '{employeeId}'.",
    "solve.warning.noMatchingSoft":
      "No shifts matched soft constraint ({type}) for employee_id '{employeeId}'.",
    "solve.warning.unknown": "Solver warning: {code}",
    "solve.action.relax": "Relax one or more hard constraints (Desired/Undesired assignments).",
    "solve.action.staff": "Increase available employees or reduce required coverage per shift.",
    "solve.action.overrides":
      "Adjust custom day overrides if overnight/default rules create conflicts.",
    "solve.objectiveTotal": "Total objective: {value}",
    "solve.rewards": "Rewards: +{value}",
    "solve.penalties": "Penalties: {value}",
    "solve.unsatisfiedCount": "Unsatisfied soft constraints: {count}",
    "solve.noUnsatisfied": "No soft constraints were violated or left unmet.",
    "solve.whyNotHigher": "Why objective is not higher",
    "solve.unsat.preferAssignment":
      "{employee}: preferred assignment not met for {shift} (+{weight} available).",
    "solve.unsat.avoidAssignment":
      "{employee}: avoid assignment was violated on {shift} (-{weight}).",
    "solve.unsat.minRestAfterShift":
      "{employee}: rest gap {restHours}h after {leftShift} before {rightShift} (required {requiredHours}h, -{weight}).",
    "solve.unsat.balanceWorkedHours":
      "Workload imbalance: min {minHours}h vs max {maxHours}h (span {spanHours}h, allowed {allowedHours}h = {multiplier}x avg shift {avgShiftHours}h, excess {excessHours}h, weight {weight}).",
    "solve.unsat.generic": "{employee}: {type} ({status}).",
    "stats.title": "Employee Workload",
    "stats.subtitle": "Interactive breakdown of solved shifts and total scheduled hours.",
    "stats.sortHours": "Sort by Hours",
    "stats.sortShifts": "Sort by Shifts",
    "stats.highToLow": "High to Low",
    "stats.lowToHigh": "Low to High",
    "stats.constraintPie": "Constraint Count Distribution",
    "stats.shiftPie": "Shift Count Distribution",
    "stats.hoursPie": "Worked Hours Distribution",
    "stats.noAssigned": "No assigned data yet.",
    "stats.total": "Total",
    "stats.hard": "Hard {satisfied}/{total}",
    "stats.soft": "Soft {satisfied}/{total}",
    "stats.hours": "Hours",
    "stats.shifts": "Shifts",
    "stats.constraints": "{count} constraints",
    "stats.inspectHint": "Click an employee row to inspect assigned shifts.",
    "stats.constraintStats": "{name} constraint statistics:",
    "stats.noConstraintForEmployee": "No user hard/soft constraints configured for this employee.",
    "stats.hardConstraints": "Hard constraints",
    "stats.softConstraints": "Soft constraints",
    "stats.satisfied": "Satisfied {satisfied} / {total}",
    "stats.requireMet": "Require met {satisfied} / {total}",
    "stats.forbidRespected": "Forbid respected {satisfied} / {total}",
    "stats.preferredMet": "Preferred met {satisfied} / {total}",
    "stats.unpreferredRespected": "Unpreferred respected {satisfied} / {total}",
    "stats.assignments": "{name} assignments:",
    "stats.noAssignments": "No assigned shifts.",
  },
  ro: {
    "app.subtitle": "Spatiu de lucru pentru planificarea angajatilor, ture, alocari si preferinte.",
    "app.solve": "Rezolva",
    "app.solving": "Se rezolva...",
    "app.employees": "Angajati",
    "app.defaultTemplate": "Sablon implicit",
    "app.constraintsConfig": "Configurare constrangeri",
    "app.settings": "Setari",
    "app.noEmployeeTitle": "Niciun angajat selectat",
    "app.noEmployeeHint": "Deschide Angajati din bara de sus si selecteaza unul.",
    "app.persistence.loading": "Persistenta workspace: se incarca...",
    "app.persistence.error": "Eroare persistenta workspace: {error}",
    "app.persistence.status": "Persistenta workspace: {message}",
    "app.persistence.loadedLocal": "Workspace incarcat din browserul local.",
    "app.persistence.emptyLocal":
      "Nu exista workspace salvat in browser. Modificarile se salveaza local automat.",
    "app.persistence.unavailableLocal": "Stocarea locala in browser nu este disponibila.",
    "app.persistence.savedLocal": "Salvat local la {time}",
    "app.employeeDialogTitle": "Angajati",
    "app.templateDialogTitle": "Sablon implicit (Lun-Dum)",
    "app.constraintsDialogTitle": "Configurare constrangeri",
    "app.settingsDialogTitle": "Setari",
    "common.close": "Inchide",
    "common.copy": "Copiaza",
    "common.paste": "Lipeste",
    "common.enabled": "Activat",
    "common.custom": "Custom",
    "common.edit": "Editeaza",
    "common.hideEdit": "Ascunde editarea",
    "common.off": "Liber",
    "common.shifts": "{count} ture",
    "common.loading": "Se incarca...",
    "common.noData": "Nu exista date.",
    "header.language": "Limba",
    "header.themeDark": "Dark",
    "header.themeLight": "Light",
    "header.darkModeLabel": "Tema",
    "settings.firstDayOfWeek": "Prima zi din saptamana",
    "settings.firstDay.mon": "Luni",
    "settings.firstDay.sun": "Duminica",
    "employee.newTitle": "Angajat nou",
    "employee.name": "Nume",
    "employee.role": "Rol",
    "employee.add": "Adauga angajat",
    "employee.listTitle": "Angajati",
    "employee.namePlaceholder": "Nume angajat",
    "employee.rolePlaceholder": "Rol optional",
    "employee.remove": "Sterge",
    "template.title": "Sablon implicit (Lun-Dum)",
    "template.clipboard": "Clipboard: {label}",
    "week.title": "Calendar saptamanal",
    "week.subtitle": "Click pe un bloc de tura pentru a gestiona una sau mai multe constrangeri.",
    "week.hideInspector": "Ascunde inspectorul",
    "week.showInspector": "Arata inspectorul",
    "week.customEditorTitle": "Ture custom pentru ziua: {day} {date}",
    "week.overrideAddError": "Nu mai este loc pentru inca o tura in {day}.",
    "week.defaultAddError": "Nu mai este loc pentru inca o tura implicita in {day}.",
    "week.inspectorTitle": "Inspector tura",
    "week.selectShiftHint": "Selecteaza un bloc de tura pentru a edita constrangerile.",
    "week.shiftLabel": "Tura: {name}",
    "week.openInspector": "Deschide inspectorul de ture",
    "week.noConstraints": "Nu exista constrangeri.",
    "week.selectEmployee": "Selecteaza angajat",
    "week.addConstraint": "+ Adauga constrangere",
    "week.removeConstraint": "Sterge",
    "week.carryOver": "Continuare din ziua anterioara: {label}",
    "week.copyHint": "Clipboard: {label}",
    "shift.noShifts": "Fara ture.",
    "shift.nameLabel": "Nume tura",
    "shift.from": "pana la",
    "shift.overnight": "overnight",
    "shift.add": "+ Adauga tura",
    "constraints.description":
      "Configureaza feature toggles ale solver-ului si ponderile preferintelor trimise la rezolvare.",
    "constraints.maxWorktimeTitle": "Timp maxim de lucru consecutiv",
    "constraints.maxWorktimeDesc":
      "Regula hard. Limiteaza timpul de lucru continuu pe ture consecutive. Se aplica lanturilor de ture (nu unei ture singulare): la 8h, doua ture de 4h sunt permise, doua ture de 8h nu.",
    "constraints.maxWorktimeInput": "Timp maxim continuu (ore)",
    "constraints.restGapHardTitle": "Pauza minima dupa pragul de timp maxim consecutiv (Hard)",
    "constraints.restGapHardDesc":
      "Regula hard. Obliga pauza minima dupa atingerea pragului de timp maxim lucrat consecutiv.",
    "constraints.restGapHardHours": "Pauza minima hard (ore)",
    "constraints.restGapSoftTitle": "Pauza minima dupa pragul de timp maxim consecutiv (Soft)",
    "constraints.restGapSoftDesc":
      "Regula soft. Penalizeaza situatiile in care pauza dupa un lant care a atins pragul maxim este sub valoarea configurata.",
    "constraints.restGapSoftHours": "Pauza minima preferata (ore)",
    "constraints.restGapSoftWeight": "Pondere penalizare",
    "constraints.balanceTitle": "Echilibrare ore lucrate",
    "constraints.balanceDesc":
      "Regula soft. Penalizeaza dezechilibrul peste intervalul permis derivat din durata medie a turei.",
    "constraints.balanceWeight": "Pondere penalizare",
    "constraints.balanceMultiplier": "Multiplicator interval permis",
    "constraints.prefTitle": "Ponderi mapare preferinte",
    "constraints.prefDesc":
      "Ponderi pentru preferintele setate in inspectorul de ture si trimise ca reguli soft.",
    "constraints.prefPreferred": "Pondere Preferred",
    "constraints.prefUnpreferred": "Pondere Unpreferred",
    "solve.diagnosticsTitle": "Diagnostic rezolvare",
    "solve.infeasibleTitle": "Nu s-a gasit un program fezabil",
    "solve.infeasibleReason":
      "Constrangerile hard si acoperirea necesara a turelor nu pot fi satisfacute simultan.",
    "solve.likelyCauses": "Cauze probabile ale infezabilitatii",
    "solve.toggles": "Feature toggles active: {toggles}",
    "solve.noWarnings": "Solver-ul nu a returnat avertizari suplimentare.",
    "solve.reason.infeasible_no_feasible_assignment":
      "Nu exista o alocare fezabila care sa satisfaca simultan constrangerile hard si acoperirea turelor.",
    "solve.infeasibility.hardConflictRequiredAndForbidden":
      "{shift}: aceiasi angajati sunt simultan required si forbidden ({employeeNames}).",
    "solve.infeasibility.hardRequiredExceedsCoverage":
      "{shift}: {hardRequiredCount} angajati hard-required depasesc acoperirea ceruta {requiredCoverage}.",
    "solve.infeasibility.coverageExceedsAvailableAfterForbids":
      "{shift}: acoperirea ceruta {requiredCoverage} depaseste angajatii disponibili {availableEmployees} dupa forbid.",
    "solve.infeasibility.maxWorktimeWindowCapacityConflict":
      "Fereastra max-worktime [{windowPreview}] necesita {requiredAssignments} alocari, dar regula permite cel mult {allowedAssignments}.",
    "solve.infeasibility.maxWorktimeWindowEmployeeOverrequired":
      "{employeeName} este hard-required pe {hardRequiredCount} ture in fereastra [{windowPreview}], peste limita {allowedAssignments}.",
    "solve.infeasibility.hardMinRestConflictOnRequiredChain":
      "{employeeName} este hard-required pe {leftShift} si {rightShift} cu doar {restHours}h pauza (< {minRestHours}h hard).",
    "solve.infeasibility.quickAnalysisInconclusive":
      "Nu a fost izolata o contradictie directa in analiza rapida; infezabilitatea este probabil cauzata de efectul combinat al constrangerilor hard si al acoperirii.",
    "solve.infeasibility.unknown": "Motiv de infezabilitate: {code}",
    "solve.toggle.max_worktime_in_row": "Timp maxim de lucru consecutiv",
    "solve.toggle.min_rest_after_shift_hard":
      "Pauza minima dupa pragul de timp maxim consecutiv (Hard)",
    "solve.toggle.min_rest_after_shift_soft":
      "Pauza minima dupa pragul de timp maxim consecutiv (Soft)",
    "solve.toggle.balance_worked_hours": "Echilibrare ore lucrate",
    "solve.warning.noMatchingHard":
      "Nicio tura nu a corespuns constrangerii hard ({type}) pentru employee_id '{employeeId}'.",
    "solve.warning.noMatchingSoft":
      "Nicio tura nu a corespuns constrangerii soft ({type}) pentru employee_id '{employeeId}'.",
    "solve.warning.unknown": "Avertizare solver: {code}",
    "solve.action.relax": "Relaxeaza una sau mai multe constrangeri hard (Desired/Undesired).",
    "solve.action.staff": "Creste numarul de angajati sau reduce acoperirea necesara pe tura.",
    "solve.action.overrides":
      "Ajusteaza override-urile pe zile daca regulile overnight/implicite introduc conflicte.",
    "solve.objectiveTotal": "Obiectiv total: {value}",
    "solve.rewards": "Recompense: +{value}",
    "solve.penalties": "Penalizari: {value}",
    "solve.unsatisfiedCount": "Constrangeri soft nesatisfacute: {count}",
    "solve.noUnsatisfied": "Nu exista constrangeri soft incalcate sau neindeplinite.",
    "solve.whyNotHigher": "De ce obiectivul nu este mai mare",
    "solve.unsat.preferAssignment":
      "{employee}: alocarea preferata nu a fost satisfacuta pentru {shift} (+{weight} disponibil).",
    "solve.unsat.avoidAssignment":
      "{employee}: regula de evitare a fost incalcata pe {shift} (-{weight}).",
    "solve.unsat.minRestAfterShift":
      "{employee}: pauza {restHours}h dupa {leftShift} inainte de {rightShift} (necesar {requiredHours}h, -{weight}).",
    "solve.unsat.balanceWorkedHours":
      "Dezechilibru incarcare: minim {minHours}h vs maxim {maxHours}h (span {spanHours}h, permis {allowedHours}h = {multiplier}x durata medie tura {avgShiftHours}h, exces {excessHours}h, pondere {weight}).",
    "solve.unsat.generic": "{employee}: {type} ({status}).",
    "stats.title": "Incarcare angajati",
    "stats.subtitle": "Distributie interactiva a turelor rezolvate si a orelor totale programate.",
    "stats.sortHours": "Sorteaza dupa ore",
    "stats.sortShifts": "Sorteaza dupa ture",
    "stats.highToLow": "Descrescator",
    "stats.lowToHigh": "Crescator",
    "stats.constraintPie": "Distributie numar constrangeri",
    "stats.shiftPie": "Distributie numar ture",
    "stats.hoursPie": "Distributie ore lucrate",
    "stats.noAssigned": "Nu exista date alocate.",
    "stats.total": "Total",
    "stats.hard": "Hard {satisfied}/{total}",
    "stats.soft": "Soft {satisfied}/{total}",
    "stats.hours": "Ore",
    "stats.shifts": "Ture",
    "stats.constraints": "{count} constrangeri",
    "stats.inspectHint": "Click pe un rand de angajat pentru detalii.",
    "stats.constraintStats": "Statistici constrangeri pentru {name}:",
    "stats.noConstraintForEmployee":
      "Nu sunt configurate constrangeri hard/soft de utilizator pentru acest angajat.",
    "stats.hardConstraints": "Constrangeri hard",
    "stats.softConstraints": "Constrangeri soft",
    "stats.satisfied": "Satisfacute {satisfied} / {total}",
    "stats.requireMet": "Require respectate {satisfied} / {total}",
    "stats.forbidRespected": "Forbid respectate {satisfied} / {total}",
    "stats.preferredMet": "Preferred satisfacute {satisfied} / {total}",
    "stats.unpreferredRespected": "Unpreferred respectate {satisfied} / {total}",
    "stats.assignments": "Alocari pentru {name}:",
    "stats.noAssignments": "Nu exista ture alocate.",
  },
};

function interpolate(text, variables = {}) {
  return Object.entries(variables).reduce(
    (acc, [key, value]) => acc.replaceAll(`{${key}}`, String(value)),
    text
  );
}

export function translate(language, key, variables = {}, fallback = "") {
  const catalog = MESSAGES[language] || MESSAGES.en;
  const template = catalog[key] || MESSAGES.en[key] || fallback || key;
  return interpolate(template, variables);
}
